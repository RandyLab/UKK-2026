<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perpustakaan</title>
  </head>
  <body>
    <section>
      <form action="" id="simpan_buku">
        <input type="text" name="ISBN" id="ISBN" required />
        <input type="text" name="judul" id="judul" required />
        <input type="text" name="penerbit" id="penerbit" required />
        <input type="text" name="thn_terbit" id="thn_terbit" required />
        <input type="submit" value="Simpan Buku" />
        <input type="reset" value="Reset" />
      </form>
      <form action="" id="simpan_anggota"></form>
      <form action="" id="pinjam"></form>
      <form action="" id="kembalikan"></form>
    </section>
    <section id="data">
      <h2>Daftar Buku</h2>
      <div id="daftar_buku"></div>
    </section>
    <script>
      // muat data saat halaman dimuat
      window.onload = load_data;

      function load_data() {
        let daftarBuku = JSON.parse(localStorage.getItem("buku")) || [];
        let daftarBukuDiv = document.getElementById("daftar_buku");

        // ðŸ”¥ reset isi dulu
        daftarBukuDiv.innerHTML = "";

        for (let buku of daftarBuku) {
          let bukuElement = document.createElement("div");
          bukuElement.textContent = `Judul: ${buku.judul}, Penerbit: ${buku.penerbit}`;
          daftarBukuDiv.appendChild(bukuElement);
        }
      }

      const form = document.getElementById("simpan_buku");

      form.addEventListener("submit", function (event) {
        event.preventDefault();

        const judul = document.getElementById("judul").value;
        const penerbit = document.getElementById("penerbit").value;

        const bukuBaru = { judul, penerbit };

        let daftarBuku = JSON.parse(localStorage.getItem("buku")) || [];
        daftarBuku.push(bukuBaru);
        localStorage.setItem("buku", JSON.stringify(daftarBuku));

        // langsung tampilkan 1 buku
        const daftarBukuDiv = document.getElementById("daftar_buku");
        const bukuElement = document.createElement("div");
        bukuElement.textContent = `Judul: ${judul}, Penerbit: ${penerbit}`;
        daftarBukuDiv.appendChild(bukuElement);

        form.reset();
      });
    </script>
  </body>
</html>
